{% extends 'base.html' %}

{% block content %}
<h1>Camera Stream</h1>

<!-- include the jsmpeg library -->
<script type="text/javascript" src="{{ url_for('static', filename='js/jsmpeg.min.js') }}"></script>

<!-- set up the video player to receive the GStreamer stream -->
<div class="jsmpeg" data-url="PiMowBot.local:80"></div>

<!-- set up the WebSocket connection and start the player -->
<script type="text/javascript">
   var canvas = document.getElementById('video');
   var url = 'ws://'+document.location.hostname+':80/';
   var player = new JSMpeg.Player(url, {canvas: canvas});
</script>

{% endblock %}