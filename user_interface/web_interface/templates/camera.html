{% extends 'base.html' %}

{% block content %}
<h1>Camera Stream</h1>

<!-- include the jsmpeg library -->
<script src="{{ url_for('static', filename='js/jsmpeg.min.js') }}"></script>

<!-- set up the video player to receive the GStreamer stream -->
<video id="video" width="1280" height="720" autoplay></video>

<!-- set up the WebSocket connection and start the player -->
<script type="text/javascript">
   var canvas = document.getElementById('video');
   var url = 'ws://'+document.location.hostname+':8554/';
   var player = new JSMpeg.Player(url, {canvas: canvas});
</script>

{% endblock %}