{% extends 'base.html' %}

{% block content %}
<h1>Camera Stream</h1>

<!-- include the jsmpeg library -->
<script src="jsmpeg.min.js"></script>

<!-- set up the video player to receive the GStreamer stream -->
<video id="video" width="1280" height="720" autoplay></video>

<!-- set up the WebSocket connection and start the player -->
<script type="text/javascript">
    var canvas = document.getElementById('video');
    var ws = new WebSocket('ws://' + window.location.hostname + ':8554/');
    var player = new jsmpeg(ws, {canvas:canvas});
</script>

{% endblock %}